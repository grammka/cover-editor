<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title</title>

	<style>
		.cover-wrapper {
			width: 700px;
			position: relative;
		}

		#cover {
			width: 700px;
			height: 300px;
		}

		.cover-zoom {
			background-color: #fff;
			position: absolute;
			top: 12px;
			right: 12px;
			z-index: 10;
			border-radius: 2px;
			-webkit-border-radius: 2px;
		}

		.cover-zoom div {
			width: 30px;
			height: 30px;
			line-height: 30px;
			font-size: 30px;
			text-align: center;
			cursor: pointer;
			user-select: none;
			-webkit-user-select: none;
		}

		.cover-zoom div:first-child {
			line-height: 24px;
			border-bottom: 1px solid #aaa;
		}

		.navig {
			margin-top: 10px;
		}
	</style>
</head>
<body>

<div class="cover-wrapper">
	<div class="cover-zoom">
		<div id="scaleUp">+</div>
		<div id="scaleDown">&dash;</div>
	</div>
	<div id="cover"></div>
	<div class="navig">
		<button id="save">Save</button>
		<button id="cancel">Cancel</button>
	</div>
</div>

<script src="../lib/index.js"></script>

<script>
	var cover     = document.getElementById('cover');
	var scaleUp   = document.getElementById('scaleUp');
	var scaleDown = document.getElementById('scaleDown');
	var saveBtn   = document.getElementById('save');
	var cancelBtn = document.getElementById('cancel');

	var initialParams = localStorage && JSON.parse(localStorage.getItem('coverEditor_initialParams'))

	var coverEditor = new CoverEditor(cover, {
		src: './images/cover_l.jpg',
		initialParams: initialParams,
		scaleStep: 0.02,
		navig: {
			scaleUp: scaleUp,
			scaleDown: scaleDown,
			save: save,
			cancel: cancel
		},
		onSave: function(props) {
			console.log(props)

			if (localStorage) {
				localStorage.setItem('coverEditor_initialParams', JSON.stringify(props))
			}
		}
	})
</script>

</body>
</html>